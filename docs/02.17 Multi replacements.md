# 2.17 Multi replacements

Multi replacements apply multiple search-and-replace rules to a block of text. Each rule is a tuple of:

1. String or regex to search
2. Replacement string
3. Boolean indicating whether the first element is a regex

**Syntax**

```
{:varname}
    ... some code here ...
{:/varname}
```

**Example**

index.php

```php
<?php

echo new div('index.tpl', [
    /* str_replace */
    'customtags' => [
        ['[b]', '<b>'],
        ['[/b]', '</b>']
    ],

    /* preg_replace */
    'highlight' => [
        ['/*.*?*/', '<span class = "comment">$0</span>', true]
    ]
]);
```

index.tpl

```
{= htmlfix: [
    ['<b>','<strong>']
    ['</b>','</strong>']
] =}

{:customtags}
{:htmlfix}

[b]Hello World[/b]

{:/htmlfix}
{:/customtags}

{:highlight}

/* this is a PHP comment */

{:/highlight}
```

Output

```
<strong>Hello World</strong>

<span class = "comment">/* this is a PHP comment */</span>
```