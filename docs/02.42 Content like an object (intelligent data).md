# 2.42 Content like an object (intelligent data)

Values passed to the div constructor can be objects, arrays, or a mix of both. Templates can access object properties and methods depending on the current scope.

Internal note: Div merges scope data using a deep-copy helper (historically called `cop`) from `divengine/functions`. This is internal behavior and not part of the public API.

## 6.42.1 Template scope example

index.php

```php
<?php

include 'div.php';

class MyData{
    public $values;

    public function __construct($values){
        $this->values = $values;
    }

    public function implode(){
        return implode(",", $this->values);
    }
}

echo new div('index.tpl', new MyData(["A","B","C","D"]));
```

index.tpl

```
{= data: ->implode() =}

{$data}
```

Output

```
A,B,C,D
```

## 6.42.2 Capsule scope example

index.php

```php
<?php

include 'div.php';

class MyString{
    public $value;

    public function __construct($value){
        $this->value = $value;
    }

    public function upper(){
        return strtoupper($this->value);
    }
}

echo new div('index.tpl', ['name' => new MyString('peter')]);
```

index.tpl

```
[[name
    {$value}

    {= up: ->upper() =}

    {$up}
name]]
```

Output

```
peter
PETER
```

## 6.42.3 Direct method access (since 4.7)

index.tpl

```
{= up: ->name.upper() =}
{$up}
```

Output

```
PETER
```

## 6.42.4 Loop body scope example

index.php

```php
class Person{
    public $first_name;
    public $last_name;

    public function __construct($first_name, $last_name){
        $this->first_name = $first_name;
        $this->last_name = $last_name;
    }

    public function getName(){
        return $this->first_name.' '.$this->last_name;
    }
}

echo new div('index.tpl', [
    'people' => [
        new Person('John', 'Nash'),
        new Person('Albert', 'Einstein'),
        new Person('Jacque', 'Fresco')
    ]
]);
```

index.tpl

```
[$people]
    {= complete_name: ->getName() =}

    First name: {$first_name}
    Last name: {$last_name}
    Complete name: {$complete_name}

[/$people]
```

Output

```
First name: John
Last name: Nash
Complete name: John Nash

First name: Albert
Last name: Einstein
Complete name: Albert Einstein

First name: Jacque
Last name: Fresco
Complete name: Jacque Fresco
```

Related topic: [[02.43 Hooks]].