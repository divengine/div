# 2.41 Object Oriented Programming

Div can be extended through inheritance. The subclass should preserve the parent constructor signature. The recommended extension point is the `beforeBuild()` hook.

Note: If `$src` is null and `__src` is not set, Div derives the template path from the subclass filename via Reflection (e.g., `MyPage.php` -> `MyPage.tpl`). Pass `$src` explicitly to override this behavior.

**Example**

```php
<?php

include 'div.php';

use divengine\div;

class MyPage extends div{
    public function __construct($src = null, $items = [], $ignored = []){
        parent::__construct($src, $items, $ignored);
    }

    public function beforeBuild(&$src = null, &$items = null, &$ignore = []){
        // pre-build customization
    }
}
```

**Example with methods**

index.php

```php
<?php

class MyPage extends div{
    public function getProducts(){
        return [
            ['name' => 'Banana', 'price' => 20],
            ['name' => 'Potato', 'price' => 30]
        ];
    }

    public function sum($x, $y){
        return $x + $y;
    }
}
```

index.tpl

```
{= products: ->getProducts() =}
{= result: ->sum(20,30) =}

[$products]
    {$name}
[/$products]

{$result}
```

Output

```
Banana
Potato

50
```

Note: the `->` operator in template method calls is a fixed token and is not affected by dialect changes.

Related topics: [[02.44 The __toString magic method]], [[02.42 Content like an object (intelligent data)]].
