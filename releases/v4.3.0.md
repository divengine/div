# Release v4.3.0

Date: 2013-06-15

## Description

June 15, 2013

- Improvement of logs's system
- Release 4.3 version

June 13, 2013

- Integration with Google Chrome/Console and Mozilla Firefox/Firebug plugins. Now the engine's messages will be appear in this browsers's features.

- Improvement of detection of infinite loops in recursive replacements:

index.tpl

```div
{= bar: {${$e}} =}
{= e: 'bar'} =}

{$bar}

```

Output

```div
[[ FATAL ERROR ]] WAS DETECTED AN INFINITE LOOP IN RECURSIVE REPLACEMENT OF $foo.

```

- Improvement of parser and bugs fixes: if foo not existed, widget waits forever. Now the next example works:

index.tpl

```div
   {= widget: 45 =}

{?( "{$foo}" == "a" )?}   <!--{ BUG: if foo not existed ...}-->
    {= bar: 5 =}
{/?}

{$widget}                 <!--{ ...widget waits forever }-->

```

Output

```div
45

Solved!

```

June 12, 2013

- Improvement of relative include/preprocessed templates. Now the next example works:

index.tpl

```div
{% folder/tpl1 %}

```

/folder/tpl1.tpl

```div
{% folder2/tpl2 %}

```

/folder1/folder2/tpl2.tpl

```div
{% tpl3 %}

```

/folder1/folder2/tpl3.tpl

Hello

Ouput

Hello

- Improvement of template's variables assignment. Now the next example works:

index.tpl

```div
{= position: "absolute" =}

{?( "{$position}" == "absolute" )?} 
          {= absolute: true =}
@else@
   {= absolute: false =}
{/?}

?$absolute YES $absolute?

```

Ouput

YES

- Improvement of the variables's scope:

Now the next example works:

index.tpl

```div
{= foo: true =}
{= bar: [1,2,3] =}

?$foo
```

YES

```div
$foo?

[$bar]
        {= foo: (# {$value} > 1 #) =}
        ?$foo
```

YES

```div
@else@
```

NO

```div
        $foo?
[/$bar]

{$foo}

```

Output

```div
YES

NO    

YES

YES
  
true

```

June 10, 2013

- Improvement of the parser of template's vars:

If the value is not valid JSON, it will be considered as a template and will be parsed before decoding.

See the next sequence:

1. Value is not valid JSON: {= digits: [[:0,8:]{$value},[/]9] =}
2. Value was parsed:        {= digits: [0,1,2,3,4,5,6,7,8,9] =}
3. Now "digits" is an array.
4. Replacement:             {$digits} <!--{ OUTPUT "10" }-->

See the difference:

1. Value is valid JSON:     {= digits: "[[:0,8:]{$value},[/]9]" =}
2. Value was not parsed:    {= digits: "[[:0,8:]{$value},[/]9]" =}
3. Now "digits" is an string.
4. Replacement:             {$digits} <!--{ OUTPUT "[0,1,2,3,4,5,6,7,8,9]" }-->

- Improvement of the parser of template's variables. Was improved the detection of assignment of variables in any part of the JSONs values. For example:

index.tpl

```div
{= cities: ["New York", "Tokyo"] =}

{= combobox: {
     id: "cboCities",
     options: $cities  
} =}

{$combobox.options.0}

```

Output

```div
New York
```

## Commits

- No commits found.
